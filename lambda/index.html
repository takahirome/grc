<!DOCTYPE html>
<html>
    <head>
        <script>/*Redirect with trailing slash so relative links work*/var l = window.location, p = l.pathname; if (p.substr(p.length - 1) !== '/') l.href = l.href + '/'</script>
        <title>AWS Serverless Express</title>
        <style>
            body {
                width: 600px;
                margin: auto;
            }
            .resources > h2 {
                margin-bottom: 0;
            }
            .resource > h3, .resource > p {
                display: inline-block;
                margin-bottom: 0.5rem;
            }
            .resource > code {
                display: block;
                background-color: #eff0f1;
                color: #393318;
                padding: 5px;
                font-family: Consolas,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,sans-serif;
                white-space: nowrap;
                overflow-x: auto;
            }
        </style>
    </head>
    <body>
        <h1>AWS Serverless Express</h1>
        <p>Welcome to your AWS serverless Express application. This example application has several resources configured for you to explore. State is stored in memory in a given container, and thus ephemeral - see <a href="https://aws.amazon.com/blogs/compute/container-reuse-in-lambda/" target="_blank">Understanding Container Reuse in AWS Lambda</a> for more information.</p>
        <section class="resources">
            <h2>Resources</h2>
            <section class="resource">
                <h3><a class="resource-example-link" href="scrape/?userid=user0001&keyword=Node.js&domain=nodejs.org">GET scrape/?userid=user0001&keyword=Node.js&domain=nodejs.org</a></h3>
                <p>Exec scrape. Sample:Search Google by Node.js and filter nodejs.org . And save DynamoDB.</p>
                <code>curl <span class="api-base-url"></span>scrape/?userid=user0001&keyword=Node.js&domain=nodejs.org</code>
                <form method="get" action="/prod/scrape/">
                    <p>
                      userid:<input type="text" name="userid">
                      domain:<input type="text" name="domain">
                      keyword:<input type="text" name="keyword">
                      <input type="submit">
                    </p>
                </form>
            </section>

            <section class="resource">
                <h3><a class="resource-example-link" href="users/?userid=user0001">GET users/?userid=user0001</a></h3>
                <p>GET user.</p>
                <code>curl <span class="api-base-url"></span>sers/?userid=user0001</code>
                <form method="get" action="/prod/users/">
                    <p>
                      userid:<input type="text" name="userid">
                      <input type="submit">
                    </p>
                </form>
            </section>

            <section class="resource">
                <h3><a class="resource-example-link" href="saveusers/?userid=user0001&domain=nodje.org&keyword=Node.js">GET users/?userid=user0001&domain=nodje.org&keyword=Node.js</a></h3>
                <p>PUT user.</p>
                <code>curl <span class="api-base-url"></span>users/?userid=user0001&domain=nodje.org&keyword=Node.js</code>
                <form method="get" action="/prod/saveusers/">
                    <p>
                      userid:<input type="text" name="userid">
                      domain:<input type="text" name="domain">
                      keyword:<input type="text" name="keyword">
                      <input type="submit">
                    </p>
                </form>
            </section>



            <!--
            <section class="resource">
                <h3><a class="resource-example-link" href="dynamo">GET dynamo</a></h3>
                <p>dynamo search</p>
                <code>curl <span class="api-base-url"></span>dynamo</code>
            </section>

            <section class="resource">
                <h3><a class="resource-example-link" href="cheerio">GET /cheerio</a></h3>
                <p>Exec Cheerio.</p>
                <code>curl <span class="api-base-url"></span>cheerio</code>
            </section>

            <section class="resource">
                <h3><a class="resource-example-link" href="users">GET /users</a></h3>
                <p>Returns a list of all users.</p>
                <code>curl <span class="api-base-url"></span>users</code>
            </section>
            <section class="resource">
                <h3>POST /users</h3>
                <p>Creates a new user.</p>
                <code>curl <span class="api-base-url"></span>users -X POST -d '{"name":"Jake"}' --header 'content-type: application/json'</code>
            </section>
            <section class="resource">
                <h3><a class="resource-example-link" href="users/1">GET /users/:userId</a></h3>
                <p>Returns a single user.</p>
                <code>curl <span class="api-base-url"></span>users/1</code>
            </section>
            <section class="resource">
                <h3>PUT /users/:userId</h3>
                <p>Updates an existing user.</p>
                <code>curl <span class="api-base-url"></span>users/1 -X PUT -d '{"name":"Jane"}' --header 'content-type: application/json'</code>
            </section>
            <section class="resource">
                <h3>DELETE /users/:userId</h3>
                <p>Deletes an existing user.</p>
                <code>curl <span class="api-base-url"></span>users/1 -X DELETE</code>
            </section>
            -->
        </section>
        <script>
            var baseUrl = window.location.href
            var baseUrlElements = document.getElementsByClassName('api-base-url')
            for(var i = 0; i < baseUrlElements.length; ++i) baseUrlElements[i].innerText = baseUrl
        </script>
    </body>
</html>
